uri: https://github.com/lldb-tools/lldb-mi.git
branch: main
locald: repos/lldb-mi
lock: locks/lldb-mi.lock
shell:
  - "arch"
  - "--arm64e"
  - "/bin/bash"
setup:
  - brew install llvm
install:
  - export LLVM_PATH="$(brew --prefix llvm)"
  - export LDFLAGS="-L${LLVM_PATH}/lib"
  - export CPPFLAGS="-I${LLVM_PATH}/include"
  - export PATH="${LLVM_PATH}/bin:${PATH}"
  - export LLDB_MI_EXECUTABLE="${IVG_WORKD}/${IVG_LOCALD}/src/lldb-mi"
  - rm -f "$LLDB_MI_EXECUTABLE"
  - cmake .
  - cmake --build .
  - ln -snvf "$LLDB_MI_EXECUTABLE" /usr/local/bin/lldb-mi
  - lldb-mi --version
